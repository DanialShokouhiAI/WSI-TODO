<!DOCTYPE html>
<html dir="rtl">
<head>
    <title>IT Health Dashboard</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma; background: #1a1a2e; color: white; text-align: center; }
        .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 50px; }
        .card { width: 200px; padding: 20px; border-radius: 15px; background: #16213e; border: 2px solid #0f3460; transition: 0.3s; }
        .online { border-color: #00ff41; box-shadow: 0 0 10px #00ff41; }
        .offline { border-color: #e94560; box-shadow: 0 0 10px #e94560; }
        .status-dot { height: 15px; width: 15px; border-radius: 50%; display: inline-block; margin-left: 10px; }
        .bg-online { background-color: #00ff41; }
        .bg-offline { background-color: #e94560; }
    </style>
</head>
<body>
    <h1>داشبورد مانیتورینگ سلامت IT</h1>
    <div id="board" class="container"></div>

    <script>
        const socket = io();
        const board = document.getElementById('board');

        socket.on('status-update', (systems) => {
            board.innerHTML = '';
            systems.forEach(sys => {
                const card = document.createElement('div');
                card.className = `card ${sys.status}`;
                card.innerHTML = `
                    <h3>${sys.name}</h3>
                    <p>${sys.host}</p>
                    <span class="status-dot bg-${sys.status}"></span>
                    <span>${sys.status === 'online' ? 'آنلاین' : 'قطع'}</span>
                `;
                board.appendChild(card);
            });
        });
    </script>
</body>
</html>
